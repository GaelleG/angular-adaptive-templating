!function(){"use strict";angular.module("adaptiveTemplating",[]).provider("adaptiveTemplating",function(){var e=this,t=angular.extend({},window.Modernizr);this.addTest=function(e,n){return t[e]=n,this},this.removeTest=function(e){return delete t[e],this},this.getTests=function(){return angular.copy(t)},this.patternRegExp=/{([^{}]+?)}/gi,this.normalizeUrl=function(){var e=/\/\.+/g,t=/\.+\//g,n=/([^:])(\/|\.)\2+/g;return function(r){return r.replace(e,"/").replace(t,"/").replace(n,"$1$2")}}(),this.whenTrue=function(e,t,n){return e.replace(t,n)},this.whenFalse=function(e,t){return e.replace(t,"")},this.whenString=function(e,t,n){return e.replace(t,n)},this.rewriteUrl=function(n){var r=n.match(e.patternRegExp);return r&&r.forEach(function(r){var i=r.replace(e.patternRegExp,"$1"),a=t[i];n="function"==typeof a&&a()||"boolean"==typeof a&&a?e.whenTrue(n,r,i):"string"==typeof a&&a.length>0?e.whenString(n,r,a):e.whenFalse(n,r,i)}),e.normalizeUrl(n)},this.$get=function(){return{addTest:this.addTest,removeTest:this.removeTest}}}).config(["$provide","adaptiveTemplatingProvider",function(e,t){e.decorator("$http",function(e){var n=e.get;return e.get=function(){return arguments[0]=t.rewriteUrl(arguments[0]),n.apply(this,arguments)},e})}])}();